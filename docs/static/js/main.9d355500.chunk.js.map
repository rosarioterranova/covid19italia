{"version":3,"sources":["components/Header.js","components/ChartData.js","components/Pagination.js","components/Tables.js","components/Loading.js","App.js","index.js","components/Pagination.module.css","App.module.css"],"names":["Header","className","href","ChartData","covidData","ctxRef","useRef","useEffect","canvas","ctx","getContext","Chart","type","data","labels","map","x","Date","toLocaleDateString","datasets","label","nuovi_positivi","backgroundColor","borderColor","borderWidth","options","scales","yAxes","ticks","beginAtZero","legend","display","createChart","current","ref","Pagination","onPrevPage","onNextPage","prevEnabled","nextEnabled","pageIndex","totalPages","style","pagination","onClick","disabled","info","Tables","useState","filter","getTime","reverse","setpageIndex","setNextEnabled","setPrevEnabled","length","getDeceduti","el","index","deceduti","toLocaleString","getTamponi","tamponi","formatDate","date","dateArray","split","slice","join","scope","Math","ceil","Loading","role","App","setCovidData","fetch","then","res","json","dt","loading","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.9d355500.chunk.js","sourcesContent":["export default function Header() {\r\n  return (\r\n    <div className=\"jumbotron text-center\">\r\n      <h1 className=\"display-4\">Covid-19 Italia</h1>\r\n      <p className=\"lead\">\r\n        Strumento online open source per monitorare giorno per giorno il numero\r\n        dei contagiati di{\" \"}\r\n        <a href=\"https://it.wikipedia.org/wiki/COVID-19\">COVID-19</a> in Italia.\r\n      </p>\r\n      <hr className=\"my-4\" />\r\n      <p>\r\n        Web App di <a href=\"http://rosarioterranova.com\">Rosario Terranova</a> |\r\n        Dati Ufficiali{\" \"}\r\n        <a href=\"https://github.com/pcm-dpc/COVID-19\">\r\n          Presidenza del Consiglio dei Ministri - Dipartimento della Protezione\r\n          Civile\r\n        </a>{\" \"}\r\n        | Grafici di <a href=\"https://www.chartjs.org/\">ChartJS</a>, fatta in{\" \"}\r\n        <a href=\"https://reactjs.org/\">React.js</a>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n","import { useRef, useEffect } from \"react\";\r\nimport Chart from \"chart.js\";\r\n\r\nexport default function ChartData({ covidData }) {\r\n  const ctxRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    createChart(ctxRef.current);\r\n  }, [ctxRef]);\r\n\r\n  function createChart(canvas) {\r\n    const ctx = canvas.getContext(\"2d\");\r\n    const myChart = new Chart(ctx, {\r\n      type: \"line\",\r\n      data: {\r\n        labels: covidData.map((x) =>\r\n          new Date(x.data).toLocaleDateString([\"ban\", \"id\"])\r\n        ),\r\n        datasets: [\r\n          {\r\n            label: \"Contagiati\",\r\n            data: covidData.map((x) => x.nuovi_positivi),\r\n            backgroundColor: [\r\n              \"rgba(255, 99, 132, 0.2)\",\r\n              \"rgba(54, 162, 235, 0.2)\",\r\n              \"rgba(255, 206, 86, 0.2)\",\r\n              \"rgba(75, 192, 192, 0.2)\",\r\n              \"rgba(153, 102, 255, 0.2)\",\r\n              \"rgba(255, 159, 64, 0.2)\",\r\n            ],\r\n            borderColor: [\r\n              \"rgba(255, 99, 132, 1)\",\r\n              \"rgba(54, 162, 235, 1)\",\r\n              \"rgba(255, 206, 86, 1)\",\r\n              \"rgba(75, 192, 192, 1)\",\r\n              \"rgba(153, 102, 255, 1)\",\r\n              \"rgba(255, 159, 64, 1)\",\r\n            ],\r\n            borderWidth: 1,\r\n          },\r\n        ],\r\n      },\r\n      options: {\r\n        scales: {\r\n          yAxes: [\r\n            {\r\n              ticks: {\r\n                beginAtZero: true,\r\n              },\r\n            },\r\n          ],\r\n        },\r\n        legend: {\r\n          display: false,\r\n        },\r\n      },\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"chart my-3\">\r\n      <canvas ref={ctxRef}></canvas>\r\n    </div>\r\n  );\r\n}\r\n","import style from \"./Pagination.module.css\";\r\n\r\nexport default function Pagination({\r\n  onPrevPage,\r\n  onNextPage,\r\n  prevEnabled,\r\n  nextEnabled,\r\n  pageIndex,\r\n  totalPages,\r\n}) {\r\n  return (\r\n    <div className={style.pagination}>\r\n      <button\r\n        className=\"btn btn-primary\"\r\n        onClick={onPrevPage}\r\n        disabled={!prevEnabled}\r\n      >\r\n        {\"<\"} Pagina Precedente\r\n      </button>\r\n      <p className={style.info}>\r\n        Pagina {pageIndex} di {totalPages}\r\n      </p>\r\n      <button\r\n        className=\"btn btn-primary\"\r\n        onClick={onNextPage}\r\n        disabled={!nextEnabled}\r\n      >\r\n        Pagina Successiva {\">\"}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport Pagination from \"./Pagination\";\r\n\r\nexport default function Tables({ covidData }) {\r\n  const [data, setData] = useState(\r\n    covidData\r\n      .filter(\r\n        (x) => new Date(x.data).getTime() > new Date(\"2020-06-01\").getTime()\r\n      )\r\n      .reverse()\r\n  );\r\n  const [pageIndex, setpageIndex] = useState(0);\r\n  const [nextEnabled, setNextEnabled] = useState(true);\r\n  const [prevEnabled, setPrevEnabled] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (pageIndex === 0) {\r\n      setNextEnabled(true);\r\n      setPrevEnabled(false);\r\n    } else if (pageIndex + 10 > data.length) {\r\n      setNextEnabled(false);\r\n      setPrevEnabled(true);\r\n    } else {\r\n      setNextEnabled(true);\r\n      setPrevEnabled(true);\r\n    }\r\n  }, [pageIndex]);\r\n\r\n  const nextDatapageIndex = () => {\r\n    setpageIndex(pageIndex + 10);\r\n  };\r\n\r\n  const prevDatapageIndex = () => {\r\n    setpageIndex(pageIndex - 10);\r\n  };\r\n\r\n  const getDeceduti = (el, index) => {\r\n    if (data[index + pageIndex + 1])\r\n      return (\r\n        el.deceduti - data[index + pageIndex + 1].deceduti\r\n      ).toLocaleString();\r\n    else return \"-\";\r\n  };\r\n\r\n  const getTamponi = (el, index) => {\r\n    if (data[index + pageIndex + 1])\r\n      return (\r\n        el.tamponi - data[index + pageIndex + 1].tamponi\r\n      ).toLocaleString();\r\n    else return \"-\";\r\n  };\r\n\r\n  const formatDate = (date) => {\r\n    const dateArray = date.split(\"/\");\r\n    dateArray[0] = (\"0\" + dateArray[0]).slice(-2);\r\n    dateArray[1] = (\"0\" + dateArray[0]).slice(-2);\r\n    return dateArray.join(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <table className=\"table my-3\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">\r\n              Data\r\n            </th>\r\n            <th scope=\"col\" className=\"text-center\">\r\n              Positivi\r\n            </th>\r\n            <th scope=\"col\" className=\"text-center\">\r\n              Deceduti\r\n            </th>\r\n            <th scope=\"col\" className=\"text-center\">\r\n              Tamponi\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {data.slice(pageIndex, pageIndex + 10).map((el, index) => (\r\n            <tr key={index}>\r\n              <th scope=\"row\" className=\"text-center\">\r\n                {formatDate(new Date(el.data).toLocaleDateString())}\r\n              </th>\r\n              <td className=\"text-center\">\r\n                {el.nuovi_positivi.toLocaleString()}\r\n              </td>\r\n              <td className=\"text-center\">{getDeceduti(el, index)}</td>\r\n              <td className=\"text-center\">{getTamponi(el, index)}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      <Pagination\r\n        onPrevPage={prevDatapageIndex}\r\n        onNextPage={nextDatapageIndex}\r\n        prevEnabled={prevEnabled}\r\n        nextEnabled={nextEnabled}\r\n        pageIndex={pageIndex / 10 + 1}\r\n        totalPages={Math.ceil(data.length / 10)}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","export default function Loading() {\r\n  return (\r\n    <div className=\"text-center\">\r\n      <div className=\"spinner-border\" role=\"status\"></div>\r\n      <p>Caricamento dati</p>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport Header from \"./components/Header\";\r\nimport ChartData from \"./components/ChartData\";\r\nimport Tables from \"./components/Tables\";\r\nimport Loading from \"./components/Loading\";\r\nimport style from \"./App.module.css\";\r\n\r\nconst apiUrl =\r\n  \"https://raw.githubusercontent.com/pcm-dpc/COVID-19/master/dati-json/dpc-covid19-ita-andamento-nazionale.json\";\r\n\r\nfunction App() {\r\n  const [covidData, setCovidData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetch(apiUrl)\r\n      .then((res) => res.json())\r\n      .then((dt) => setCovidData(dt));\r\n  }, []);\r\n\r\n  if (!covidData)\r\n    return (\r\n      <div className={style.loading}>\r\n        <Loading />\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Header />\r\n      <div className=\"container\">\r\n        <ChartData covidData={covidData} />\r\n        <Tables covidData={covidData} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__oueBy\",\"info\":\"Pagination_info__Spwpe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"App_loading__2FxFh\"};"],"sourceRoot":""}